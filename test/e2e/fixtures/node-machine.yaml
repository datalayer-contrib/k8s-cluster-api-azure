apiVersion: "cluster.k8s.io/v1alpha1"
kind: Machine
metadata:
  name: ${MACHINE_NAME}
spec:
  providerConfig:
    value:
      apiVersion: "azureproviderconfig/v1alpha1"
      kind: "AzureMachineProviderConfig"
      roles:
      - Node
      location: "westus2"
      vmSize: "Standard_B2ms"
      image: 
        publisher: "Canonical"
        offer: "UbuntuServer"
        sku: "16.04-LTS"
        version: "latest"
      osDisk:
        osType: "Linux"
        managedDisk:
          storageAccountType: "Premium_LRS"
        diskSizeGB: 30
      sshPublicKey: ${SSH_PUBLIC_KEY}
      sshPrivateKey: ${SSH_PRIVATE_KEY}
  versions:
    kubelet: 1.11.3
